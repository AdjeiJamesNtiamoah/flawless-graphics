<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Dashboard - FLAWLESS GRAPHICS</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="logo">
      <img src="assets/logo-main.png" alt="Flawless Graphics Logo" class="logo-img">
      <h1>FLAWLESS GRAPHICS</h1>
    </div>

    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
       <li><a href="employee.html">Employee Portal</a></li>
        <li><a href="hr-dashboard.html" class="active">HR Dashboard</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>
<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h2>HR Dashboard</h2>
    <button class="toggle-btn" id="toggleSidebar">‚ò∞</button>
  </div>
  <nav class="sidebar-nav">
    <ul>
      <li><a href="#" data-modal="employeeModal" class="active">üë§ Employee Report</a></li>
      <li><a href="#" data-modal="attendanceModal">üïí Attendance Summary</a></li>
      <li><a href="#" data-modal="payrollModal">üí∞ Payroll Analytics</a></li>
      <li><a href="#" data-modal="performanceModal">‚≠ê Performance Overview</a></li>
    </ul>
  </nav>
</aside>

<!-- Dashboard Content -->
<main class="dashboard-content" id="dashboardContent">
  <div class="card" data-modal="employeeModal">
    <h3>Employee Report</h3>
    <p>View and export all employee profiles and reports.</p>
  </div>

  <div class="card" data-modal="attendanceModal">
    <h3>Attendance Summary</h3>
    <p>Track attendance data and daily check-ins.</p>
  </div>

  <div class="card" data-modal="payrollModal">
    <h3>Payroll Analytics</h3>
    <p>Analyze payroll trends and generate salary reports.</p>
  </div>

  <div class="card" data-modal="performanceModal">
    <h3>Performance Overview</h3>
    <p>Monitor staff KPIs and performance growth.</p>
  </div>
</main>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const sidebar = document.getElementById('sidebar');
  const toggleBtn = document.getElementById('toggleSidebar');
  const dashboardContent = document.getElementById('dashboardContent');

  toggleBtn.addEventListener('click', () => {
    sidebar.classList.toggle('collapsed');
    dashboardContent.classList.toggle('collapsed');
  });

  // For small screens
  if (window.innerWidth < 768) {
    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('show');
    });
  }
});
</script>
<!-- Employee Report Modal -->
<div class="modal" id="employeeModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Employee Report</h2>
    <table id="employeeTable">
      <thead>
        <tr>
          <th>#</th>
          <th>Full Name</th>
          <th>Position</th>
          <th>Department</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Salary</th>
          <th>Hire Date</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button id="downloadReport">Download Report as PDF</button>
  </div>
</div>

<!-- Attendance Summary Modal -->
<div class="modal" id="attendanceModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Attendance Summary</h2>
    <p>Track and analyze staff attendance data here.</p>
  </div>
</div>

<!-- Payroll Analytics Modal -->
<div class="modal" id="payrollModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Payroll Analytics</h2>
    <p>Generate payroll reports and analyze salary trends.</p>
  </div>
</div>

<!-- Performance Overview Modal -->
<div class="modal" id="performanceModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Performance Overview</h2>
    <p>Monitor KPIs and performance metrics.</p>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const modals = document.querySelectorAll('.modal');
  const closeBtns = document.querySelectorAll('.close');
  const links = document.querySelectorAll('[data-modal]');
  const cards = document.querySelectorAll('.card');

  // Open modal when clicking sidebar or card
  [...links, ...cards].forEach(el => {
    el.addEventListener('click', e => {
      e.preventDefault();
      const modalId = el.getAttribute('data-modal');
      const modal = document.getElementById(modalId);
      modal.style.display = 'block';

      if (modalId === 'employeeModal') loadEmployeeReport();
      if (modalId === 'attendanceModal') loadAttendanceSummary();
      if (modalId === 'payrollModal') loadPayrollAnalytics();
      if (modalId === 'performanceModal') loadPerformanceOverview();
    });
  });

  // Close modal when clicking X
  closeBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      btn.closest('.modal').style.display = 'none';
    });
  });

  // Close modal when clicking outside
  window.addEventListener('click', e => {
    modals.forEach(modal => {
      if (e.target === modal) modal.style.display = 'none';
    });
  });
});


// === Employee Report ===
function loadEmployeeReport() {
  const tbody = document.querySelector('#employeeTable tbody');
  tbody.innerHTML = '';
  const employees = JSON.parse(localStorage.getItem('employees')) || [];

  employees.forEach((emp, i) => {
    const row = `
      <tr>
        <td>${i + 1}</td>
        <td>${emp.fullName || ''}</td>
        <td>${emp.position || ''}</td>
        <td>${emp.department || ''}</td>
        <td>${emp.email || ''}</td>
        <td>${emp.phone || ''}</td>
        <td>${emp.salary || ''}</td>
        <td>${emp.hireDate || ''}</td>
      </tr>`;
    tbody.innerHTML += row;
  });
}


// === Attendance Summary ===
function loadAttendanceSummary() {
  const employees = JSON.parse(localStorage.getItem('employees')) || [];
  const totalEmployees = employees.length;
  const todayPresent = Math.floor(Math.random() * totalEmployees); // simulate attendance

  const attendanceRate = totalEmployees > 0 
    ? ((todayPresent / totalEmployees) * 100).toFixed(1)
    : 0;

  document.querySelector('#attendanceModal .modal-content').innerHTML = `
    <span class="close">&times;</span>
    <h2>Attendance Summary</h2>
    <p><strong>Total Employees:</strong> ${totalEmployees}</p>
    <p><strong>Present Today:</strong> ${todayPresent}</p>
    <p><strong>Attendance Rate:</strong> ${attendanceRate}%</p>
  `;
}


// === Payroll Analytics ===
function loadPayrollAnalytics() {
  const employees = JSON.parse(localStorage.getItem('employees')) || [];
  const totalPayroll = employees.reduce((sum, emp) => sum + (parseFloat(emp.salary) || 0), 0);
  const avgSalary = employees.length ? (totalPayroll / employees.length).toFixed(2) : 0;
  const maxSalary = employees.length ? Math.max(...employees.map(e => parseFloat(e.salary) || 0)) : 0;

  document.querySelector('#payrollModal .modal-content').innerHTML = `
    <span class="close">&times;</span>
    <h2>Payroll Analytics</h2>
    <p><strong>Total Employees:</strong> ${employees.length}</p>
    <p><strong>Total Payroll:</strong> GHS ${totalPayroll.toFixed(2)}</p>
    <p><strong>Average Salary:</strong> GHS ${avgSalary}</p>
    <p><strong>Highest Salary:</strong> GHS ${maxSalary.toFixed(2)}</p>
  `;
}


// === Performance Overview ===
function loadPerformanceOverview() {
  const employees = JSON.parse(localStorage.getItem('employees')) || [];
  const totalEmployees = employees.length;
  const avgPerformance = (Math.random() * 40 + 60).toFixed(1); // Simulated 60‚Äì100% score

  document.querySelector('#performanceModal .modal-content').innerHTML = `
    <span class="close">&times;</span>
    <h2>Performance Overview</h2>
    <p><strong>Total Employees:</strong> ${totalEmployees}</p>
    <p><strong>Average Performance Score:</strong> ${avgPerformance}%</p>
    <p>Keep improving! Performance data will soon include actual KPIs and department-level insights.</p>
  `;
}


// === Download Employee Report as PDF ===
document.addEventListener('click', e => {
  if (e.target.id === 'downloadReport') {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    const employees = JSON.parse(localStorage.getItem('employees')) || [];

    let y = 20;
    doc.setFont('helvetica', 'bold');
    doc.text('Employee Report', 14, y);
    y += 10;
    doc.setFont('helvetica', 'normal');

    employees.forEach((emp, i) => {
      y += 10;
      doc.text(`${i + 1}. ${emp.fullName || ''} - ${emp.position || ''} - ${emp.department || ''}`, 14, y);
    });

    doc.save('Employee_Report.pdf');
  }
});
</script>


</body>
</html>


