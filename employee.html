<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Employee Portal | FLAWLESS GRAPHICS</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* --- Page Layout --- */
    main {
      max-width: 1000px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    h2 {
      text-align: center;
      color: #1a3d6d;
      margin-bottom: 15px;
    }

    /* --- Search Bar --- */
    .search-bar {
      text-align: center;
      margin-bottom: 25px;
    }

    #searchBar {
      width: 80%;
      max-width: 500px;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
      outline: none;
      transition: all 0.2s ease;
    }

    #searchBar:focus {
      border-color: #007bff;
      box-shadow: 0 0 5px #007bff66;
    }

    /* --- Add Employee Form --- */
    .form-section {
      text-align: center;
      margin: 30px auto;
      background-color: #f9f9f9;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 600px;
    }

    .form-section input {
      display: block;
      width: 90%;
      margin: 8px auto;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
      outline: none;
    }

    .form-section input:focus {
      border-color: #007bff;
      box-shadow: 0 0 5px #007bff66;
    }

    .form-section button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #1a3d6d;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .form-section button:hover {
      background-color: #00509e;
    }

    /* --- Employee Table --- */
    #employeeTable {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
      font-size: 14px;
    }

    #employeeTable th, #employeeTable td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }

    #employeeTable th {
      background-color: #1a3d6d;
      color: white;
    }

    #employeeTable tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    #employeeTable tr:hover {
      background-color: #e8f0ff;
    }

    /* --- Buttons in Table --- */
    button.edit-btn {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }

    button.delete-btn {
      background-color: red;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }

    button.edit-btn:hover { background-color: #0056b3; }
    button.delete-btn:hover { background-color: #c0392b; }
  </style>
</head>

<body>
  <header>
    <nav>
      <img src="assets/logo-main.png" alt="Flawless Graphics Logo" class="logo">
      <h1>FLAWLESS GRAPHICS</h1>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="employee.html" class="active">Employee Portal</a></li>
        <li><a href="hr-dashboard.html">HR Dashboard</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- Search Bar -->
    <div class="search-bar">
      <input type="text" id="searchBar" placeholder="ðŸ” Search employees by name, department, or position..." onkeyup="filterEmployees()">
    </div>

    <!-- Add Employee Form -->
    <section class="form-section">
      <h2>Add Employee Details</h2>
      <form id="employeeForm">
        <input type="text" id="name" placeholder="Full Name" required>
        <input type="text" id="position" placeholder="Position/Title" required>
        <input type="text" id="department" placeholder="Department" required>
        <input type="email" id="email" placeholder="Email" required>
        <input type="tel" id="phone" placeholder="Phone" required>
        <input type="number" id="salary" placeholder="Salary" required>
        <input type="date" id="hireDate" required>
        <button type="submit">Save Employee</button>
      </form>
    </section>

    <!-- Employee Table -->
    <section>
      <h2>Saved Employees</h2>
      <table id="employeeTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Full Name</th>
            <th>Position</th>
            <th>Department</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Salary</th>
            <th>Hire Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', refreshTable);
    const form = document.getElementById('employeeForm');
    let editIndex = null;

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const employee = {
        name: document.getElementById('name').value,
        position: document.getElementById('position').value,
        department: document.getElementById('department').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        salary: document.getElementById('salary').value,
        hireDate: document.getElementById('hireDate').value
      };

      const employees = JSON.parse(localStorage.getItem('employees')) || [];

      if (editIndex !== null) {
        employees[editIndex] = employee;
        editIndex = null;
      } else {
        employees.push(employee);
      }

      localStorage.setItem('employees', JSON.stringify(employees));
      form.reset();
      refreshTable();
    });

    function refreshTable() {
      const tableBody = document.querySelector('#employeeTable tbody');
      const employees = JSON.parse(localStorage.getItem('employees')) || [];
      tableBody.innerHTML = '';

      employees.forEach((emp, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${index + 1}</td>
          <td>${emp.name}</td>
          <td>${emp.position}</td>
          <td>${emp.department}</td>
          <td>${emp.email}</td>
          <td>${emp.phone}</td>
          <td>${emp.salary}</td>
          <td>${emp.hireDate}</td>
          <td>
            <button class="edit-btn" onclick="editEmployee(${index})">Edit</button>
            <button class="delete-btn" onclick="deleteEmployee(${index})">Delete</button>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    function editEmployee(index) {
      const employees = JSON.parse(localStorage.getItem('employees')) || [];
      const emp = employees[index];
      editIndex = index;

      document.getElementById('name').value = emp.name;
      document.getElementById('position').value = emp.position;
      document.getElementById('department').value = emp.department;
      document.getElementById('email').value = emp.email;
      document.getElementById('phone').value = emp.phone;
      document.getElementById('salary').value = emp.salary;
      document.getElementById('hireDate').value = emp.hireDate;

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function deleteEmployee(index) {
      const employees = JSON.parse(localStorage.getItem('employees')) || [];
      if (confirm('Are you sure you want to delete this employee?')) {
        employees.splice(index, 1);
        localStorage.setItem('employees', JSON.stringify(employees));
        refreshTable();
      }
    }

    function filterEmployees() {
      const filter = document.getElementById('searchBar').value.toLowerCase();
      const rows = document.querySelectorAll('#employeeTable tbody tr');

      rows.forEach(row => {
        const name = row.cells[1].textContent.toLowerCase();
        const position = row.cells[2].textContent.toLowerCase();
        const department = row.cells[3].textContent.toLowerCase();

        if (name.includes(filter) || position.includes(filter) || department.includes(filter)) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }
  </script>
</body>
</html>
